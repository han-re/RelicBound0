<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Welcome</title>
    <link rel="stylesheet" href="css/style0.css">
</head>
<body style="background-image: url('images/background.jpg')">
    <div id="fade-overlay"></div>
    <audio id="clickSound">
        <source src="audio/tapRB.MP3" type="audio/mpeg">
    </audio>
    <header class="title">
        <h1>RelicBound</h1>
    </header>
    
    <main>
        <section class="text">
            <h2>Welcome to RelicBound!</h2>
            <div class="textBox" id="welcome" style="background-image: url('images/bgbtn.png')"></div>
            
            <br>
            <h2>Game Rules & World</h2>
            <div class="textBox" id="rules" style="background-image: url('images/bgbtn.png')"></div>

            <br>
            <h2>Powers</h2>
            <div class="textBox" id="powers" style="background-image: url('images/bgbtn.png')"></div>
        </section>
        
        <div class="start">
            <button class="startBtn" onclick="playSoundAndRedirect('powers.html')">Start Adventure !</button>
        </div>
    </main>
    

    
    <script>
        // Improved text content that matches the sections
        const introText = "The fate of the universe rests in your hands. You have been tasked to destroy the evil overlord known as Andy. Every decision you make shapes the world and determines your destiny.";
        
        const rulesText = "As mentioned above, your choices shape the world. Each scenario presents multiple choices. You will have to choose between these options.\n\nChoose WRONG and you will face consequences.\n\nExplore, battle, and uncover the mysteries of time.";
        
        const powersText = "Before your journey begins, you will unlock extraordinary abilities. These powers will shape your path, alter fate, and influence critical decisions. Choose wisely, as each ability carries strengths and weaknesses that will define your destiny.";
        
        // Improved typewriter function with error handling
        function typeWriter(elementId, text, speed) {
            let i = 0;
            const element = document.getElementById(elementId);
            
            if (!element) {
                console.error(`Element with ID ${elementId} not found`);
                return;
            }
            
            element.innerHTML = ''; //Clear any existing content
            
            function typing() {
                if (i < text.length) {
                    element.innerHTML += text.charAt(i);
                    i++;
                    setTimeout(typing, speed);
                }
            }
            
            typing();
        }
        
        // Initialize the page when it loads
        window.onload = function() {
            // Start typing animations with appropriate delays
            typeWriter("welcome", introText, 20);
            setTimeout(() => typeWriter("rules", rulesText,20), introText.length * 20 + 500);
            setTimeout(() => typeWriter("powers", powersText, 20), (introText.length + rulesText.length) * 20 + 1000);
            
            // Add event listeners for choice buttons
            document.querySelectorAll('.choiceBtn').forEach(button => {
                button.addEventListener('click', function() {
                    alert('You chose: ' + this.textContent);
                    // Here you would add the game logic for handling choices
                });
            });
        };

        function playSoundAndRedirect(url) {
            const clickSound = document.getElementById("clickSound");
            clickSound.currentTime = 0; //Restart sound if already playing
            clickSound.play();
            //Delay redirect to allow sound to play
            setTimeout(() => {
                window.location.href = url;
            }, 170);
        }
    </script>
</body>
</html>

